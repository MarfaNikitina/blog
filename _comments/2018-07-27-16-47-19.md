---
id: 4009194861
is_spam: false
is_deleted: false
post: /why-clj/
date: 2018-07-27T16:47:19Z
author_fullname: 'Dan Kozlov'
author_nickname: 'dkzlv'
author_is_anon: false
parent: 4009152828
---

<p>&gt; условия задачи были другие<br>Условие: "Для каждого возраста нужно подсчитать средний рейт"<br>У меня возвращается кортеж возраста и среднего по этому возрасту рейта. Где я неправ?</p><p>&gt; вот тайминги по трём решениям включая ваше<br>Мне кажется, только глупый будет спорить с тем, что питон — это ебучий тормоз в мире программирования ¯\_(ツ)_/¯<br>Если бы у меня был миллион айтемов, я бы использовал pandas и numpy. Писать пример лень, но он не проиграет по таймингам кложуре, обещаю (только инициироваться будет полчаса). В последний раз, когда я играл с pandas и Jupyter Notebook, он у меня ворочал 20М строк в таблице без заметного лага.<br>Но в реальной жизни у меня не бывает миллиона айтемов в памяти. Может, у меня просто примитивные задачи, но всегда, когда у меня возникают миллионы айтемов, они… как правило в базе. А там SQL сделает за меня свои мапы и редюсы лучше, чем любая кложура, питон, руби и все остальные вместе взятые.</p><p>Кстати, я не ставил себе задачей написать оптимально. Хотелось написать читаемый однострочник, в противовес тому ужасу из скриншота у автора, я вот вообще нифига не понимаю, лол.<br>Это ж питон, тут всем насрать на производительность.</p>

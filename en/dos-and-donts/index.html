<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Do's and Don'ts</title>
  <meta name="description" content="Here is a short list of rules I try to follow when working:">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="http://grishaev.me/en/dos-and-donts/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="http://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

</head>


  <body>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-33533163-2', 'auto');
    ga('send', 'pageview');

</script>

    <header class="site-header">

    <style>

        .search-button {
            border: none;
            background-color: transparent;
            cursor: pointer;
        }

        .flex-container {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
        }

        .flex-container-vert {
            display: flex;
            flex-direction: column;
        }

        .menu-item {
            text-decoration: none;
            font-size: 14pt;
            margin-right: 25px;
        }

        .menu-item:hover {
            text-decoration: underline;
        }

        .minor {
            color: black;
            font-size: 12pt;
            margin-right: 20px;
        }

        .minor:visited {
            color: inherit;
        }

    </style>

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img src="/assets/static/photo-round-small.png">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container" style="justify-content: space-between">

                <div>
                    <div class="flex-container">
                        <p style="margin-bottom: 5px">
                            Ivan Grishaev's blog
                            <br>
                            <small>Writing on programming, education, books and negotiations.
</small>
                        </p>
                    </div>
                </div>

                <div>
                    <form method="get" action="/search/">
                        <div class="flex-container">
                            <input name="q" placeholder="Поиск">
                            <button class="search-button" type="submit">&#x1f50d;</button>
                        </div>
                    </form>
                </div>

            </div>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Do's and Don'ts</h1>
    <p class="post-meta">
      <time datetime="2017-05-12T00:00:00+00:00" itemprop="datePublished">May 12, 2017</time>

      

      <a href="/tag/english/" rel="tag">english</a>, <a href="/tag/dos-and-donts/" rel="tag">dos-and-donts</a>
    </p>

    <script src="https://yastatic.net/es5-shims/0.0.2/es5-shims.min.js"></script>
<script src="https://yastatic.net/share2/share.js"></script>
<div class="ya-share2" data-services="twitter,telegram,facebook,vkontakte,lj,evernote,linkedin,reddit" data-limit="4"></div>


  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Here is a short list of rules I try to follow when working:</p>

<h3 id="database">Database</h3>

<ul>
  <li>
    <p>Avoid using nullable fields in your DB. Put <code class="highlighter-rouge">not null</code> everywhere you can when
defining a table. Assign a default blank value if submitting a field is not
necessary:</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">create</span> <span class="k">table</span> <span class="n">foo</span> <span class="p">(</span>
  <span class="p">...</span>
  <span class="k">comment</span> <span class="n">text</span> <span class="k">not</span> <span class="k">null</span> <span class="k">default</span> <span class="s1">''</span><span class="p">,</span>
  <span class="k">count</span> <span class="n">integer</span> <span class="k">not</span> <span class="k">null</span> <span class="k">default</span> <span class="mi">0</span>
<span class="p">);</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Keep your database migrations in raw <code class="highlighter-rouge">*.sql</code> files. Wrap each migration into
transaction explicitly putting <code class="highlighter-rouge">begin;</code> and at the top of file and <code class="highlighter-rouge">commit;</code>
at the bottom:</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">--</span>
<span class="c1">-- A short comment about what this migration does.</span>
<span class="c1">--</span>
<span class="k">begin</span><span class="p">;</span>

<span class="k">update</span> <span class="n">foo</span> <span class="k">set</span> <span class="n">bar</span> <span class="o">=</span> <span class="mi">42</span> <span class="k">where</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">100500</span><span class="p">;</span>

<span class="k">alter</span> <span class="k">table</span> <span class="n">baz</span> <span class="k">drop</span> <span class="k">column</span> <span class="n">test</span><span class="p">;</span>

<span class="k">commit</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Don’t delete anything from your DB. Add <code class="highlighter-rouge">deleted</code> boolean flag that is false
by default and put <code class="highlighter-rouge">AND NOT mytable.deleted</code> in <code class="highlighter-rouge">WHERE</code> or <code class="highlighter-rouge">JOIN</code> statements:</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">foo</span> <span class="k">where</span> <span class="k">not</span> <span class="n">deleted</span><span class="p">;</span>
</code></pre></div>    </div>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="o">*</span><span class="p">.</span><span class="n">f</span><span class="p">,</span> <span class="o">*</span><span class="p">.</span><span class="n">b</span>
<span class="k">from</span> <span class="n">foo</span> <span class="n">f</span>
<span class="k">left</span> <span class="k">join</span> <span class="n">bar</span> <span class="n">b</span> <span class="k">on</span> <span class="n">foo</span><span class="p">.</span><span class="n">bar_id</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">id</span> <span class="k">and</span> <span class="k">not</span> <span class="n">b</span><span class="p">.</span><span class="n">deleted</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>For each table, add <code class="highlighter-rouge">created_at</code> that fixates creation time automatically:</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">create</span> <span class="k">table</span> <span class="n">foo</span> <span class="p">(</span>
  <span class="p">...</span>
  <span class="n">created_at</span> <span class="k">timestamp</span> <span class="k">not</span> <span class="k">null</span> <span class="k">default</span> <span class="k">current_timestamp</span><span class="p">;</span>
<span class="p">);</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Once you’ve got any geographical data (locations, areas, routes), install
PostGIS extension without inventing your own “smart” algorithms. They will let
you down one Friday evening.</p>
  </li>
  <li>
    <p>Postgres is great for full-text searching. Try to deal with standard
PostgreSQL capabilities before installing Elastic, Sphinx and related stuff.</p>
  </li>
  <li>
    <p>Avoid using ORMs. A small wrapper that parses <code class="highlighter-rouge">*.sql</code> files and creates plain
functions would be enough.</p>
  </li>
  <li>
    <p>Don’t use triggers to implement business logic. Such behaviour is quite
implicit and difficult to maintain. And business rules change all the time.</p>
  </li>
</ul>

<h3 id="code">Code</h3>

<ul>
  <li>
    <p>Don’t align you code with spaces like it’s shown below. Use one space only.</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">foo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"short"</span><span class="p">:</span>              <span class="mi">1</span><span class="p">,</span>
  <span class="s">"a-bit-longer"</span><span class="p">:</span>       <span class="mi">2</span><span class="p">,</span>
  <span class="s">"very-very-long-one"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Write unit tests for both server and UI sides immediately once you’ve started
a new project.</p>
  </li>
  <li>
    <p>Classes are not data. Prefer plain data structures like lists and maps over
classes. Usually, structures are fast and covers the most of requirements.</p>
  </li>
  <li>
    <p>Try to follow functional approach when develop a program. Avoid keeping state
where it can be skipped. Separate IO from code that does pure calculations.</p>
  </li>
</ul>

<h3 id="frontend">Frontend</h3>

<ul>
  <li>
    <p>Don’t use vanilla Javascript. Use such modern technologies as ClojureScript,
TypeScrip or Elm to develop without pain in the ass. Consider JS as necessary
evil running under the hood to ship your application.</p>
  </li>
  <li>
    <p>Don’t make SAPs (single page applications). Usually they work poorly, the
layout leaks, you cannot open a link in a new window and they break W3C
standards.</p>
  </li>
  <li>
    <p>Even with Javascript turned off, your client must see important information on
their screen.</p>
  </li>
  <li>
    <p>Don’t make you own widgets to substitute standard ones (inputs, drop-downs,
etc).</p>
  </li>
  <li>
    <p>Never interrupt a user with alerts, pop-ups, splashes.</p>
  </li>
  <li>
    <p>Never claim on Ad-Block enabled. It’s so ridiculous. It’s users choice what
software to use when browsing the Internet.</p>
  </li>
</ul>

<h3 id="architecture">Architecture</h3>

<ul>
  <li>
    <p>Don’t make micro-services. Try to keep the whole codebase within. Run
different domains of your application in separate threads as components.</p>
  </li>
  <li>
    <p>Queues might help a lot. Don’t invent your own message queue facility. Use
Rabbit, ZeroMQ or even Redis.</p>
  </li>
  <li>
    <p>For message processing, use text format but not binary one. You are not Google
with their proto-bufs invented to break down network limitations.</p>
  </li>
  <li>
    <p>Writing logs in a file and <code class="highlighter-rouge">tail</code>ing them via SSH is a mess. Write all the
logs into (remote) syslog, either your own one or any third-party one. Syslog
brings huge capabilities with logs processing.</p>
  </li>
  <li>
    <p>Never commit to master branch directly (set that option in your Git
config). Use the simplest Git pipeline you can imagine:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>master -&gt; feature-branch -&gt; commits -&gt; pull request -&gt; review -&gt; merge
</code></pre></div>    </div>
  </li>
  <li>
    <p>JSON is bad when configuring software: lots of braces, no comments. Take YAML.</p>
  </li>
</ul>

<h3 id="programming-languages">Programming languages</h3>

<ul>
  <li>
    <p>Prefer those languages that could give you a single compiled file as a result
of you effort (both binary or bytecode). C-family, Go, Rust, Haskell,
Java-family are OK. PHP, Python, Ruby, Perl, JavaScript are less OK.</p>
  </li>
  <li>
    <p>Take a look at functional languages even you don’t have intentions using them
in your daily work.</p>
  </li>
  <li>
    <p>You’d better try not modern languages but rather old ones. Smalltalk, Lisp,
OCaml would be a great choice.</p>
  </li>
</ul>

<h3 id="workspace">Workspace</h3>

<ul>
  <li>
    <p>Keep you desktop free from unused items.</p>
  </li>
  <li>
    <p>The more gadgets you need having around the less you are productive. Ideally,
you only need your Mac connected to the Internet.</p>
  </li>
  <li>
    <p>Use messagers on mobile only except those you need to communicate with your
customer. On my desktop, I have only Slask running with my customer’s
room. Leave Telegram, Skype, WhatsApp or whatever else on you phone and check
them rarely.</p>
  </li>
  <li>
    <p>Turn off all the notifications on you phone/desktop.</p>
  </li>
  <li>
    <p>Try to keep you developing tools simple. Choose text editor like Vim or Emacs
over IDE. Work with Git from a command line.</p>
  </li>
  <li>
    <p>Don’t work in open-space. A room with 3-4 people around is OK.</p>
  </li>
  <li>
    <p>Don’t read the news. Your friends will warn you if something really important
happens.</p>
  </li>
</ul>

<h3 id="communication">Communication</h3>

<ul>
  <li>
    <p>Don’t argue on Vim vs Emacs, Python vs Ruby and so on. It looks quite
unprofessional.</p>
  </li>
  <li>
    <p>If you full of thoughts you want to share with the world, open a blog or write
a book. But never argue on them in social networks or messagers.</p>
  </li>
  <li>
    <p>Even you are a remote worker, say Hi and Bye every time you’ve started or
finished your work day. Your team should know whether are you at the desk or
not.</p>
  </li>
  <li>
    <p>Be always polite.</p>
  </li>
  <li>
    <p>When you don’t know what to say, keep silence.</p>
  </li>
  <li>
    <p>Never afraid saying No.</p>
  </li>
  <li>
    <p>Read about negotiations.</p>
  </li>
  <li>
    <p>Invest time and money in improving your English skills.</p>
  </li>
</ul>

<p>This post is a snapshot of my <a href="https://github.com/igrishaev/dos-and-donts">Do’s And Don’ts</a> repository. You may always
find updates there.</p>


  </div>

</article>

<div id="disqus_thread"></div>
<script>
    /**
    * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');

    s.src = '//igrishaev.disqus.com/embed.js';

    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/igrishaev"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">igrishaev</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/i_grishaev"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">i_grishaev</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>

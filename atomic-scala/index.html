<!DOCTYPE html>
<html lang="ru">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Книга Atomic Scala и наивные впечатления от языка</title>
  <meta name="description" content="">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="http://grishaev.me/atomic-scala/">
  <link rel="alternate" type="application/rss+xml" title="Ivan Grishaev's blog" href="http://grishaev.me/feed.xml">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/static/favicons/favicon.ico">

</head>


  <body>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-33533163-2', 'auto');
    ga('send', 'pageview');

</script>

    <header class="site-header">

    <style>

        .search-button {
            border: none;
            background-color: transparent;
            cursor: pointer;
        }

        .flex-container {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
        }

        .flex-container-vert {
            display: flex;
            flex-direction: column;
        }

        .menu-item {
            text-decoration: none;
            font-size: 14pt;
            margin-right: 25px;
        }

        .menu-item:hover {
            text-decoration: underline;
        }

        .minor {
            color: black;
            font-size: 12pt;
            margin-right: 20px;
        }

        .minor:visited {
            color: inherit;
        }

    </style>

    <div class="wrapper flex-container">

        <div>
            <a href="/">
                <img src="/assets/static/photo-round-small.png" alt="Ivan Grishaev">
            </a>
        </div>

        <div class="flex-container-vert" style="margin-left: 15px; width: 80%">

            <div class="flex-container" style="justify-content: space-between">

                <div>
                    <div class="flex-container">
                        <p style="margin-bottom: 5px">
                            Ivan Grishaev's blog
                            <br>
                            <small>Writing on programming, education, books and negotiations.
</small>
                        </p>
                    </div>
                </div>

                <div>
                    <form method="get" action="/search/">
                        <div class="flex-container">
                            <input name="q" placeholder="Поиск">
                            <button class="search-button" type="submit">&#x1f50d;</button>
                        </div>
                    </form>
                </div>

            </div>

            <div class="flex-container">
                <a class="menu-item" href="/">Home</a>
                <a class="menu-item" href="/about/">About</a>
                <a class="menu-item" href="/bookshelf/">Bookshelf</a>
                <a class="menu-item" href="/feed.xml">RSS</a>
            </div>

            <div class="flex-container">
                <a class="menu-item minor" href="/tag/clojure/">Clojure</a>
                <a class="menu-item minor" href="/tag/emacs/">Emacs</a>
                <a class="menu-item minor" href="/tag/python/">Python</a>
                <a class="menu-item minor" href="/tag/programming/">Programming</a>
                <a class="menu-item minor" href="/video/">Video</a>
            </div>

        </div>
    </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Книга Atomic Scala и наивные впечатления от языка</h1>
    <p class="post-meta">
      <time datetime="2016-04-13T00:00:00+00:00" itemprop="datePublished">Apr 13, 2016</time>

      

      <a href="/tag/scala/" rel="tag">scala</a>, <a href="/tag/books/" rel="tag">books</a>
    </p>

    <script src="https://yastatic.net/es5-shims/0.0.2/es5-shims.min.js"></script>
<script src="https://yastatic.net/share2/share.js"></script>
<div class="ya-share2" data-services="twitter,telegram,facebook,vkontakte,lj,evernote,linkedin,reddit" data-limit="4"></div>


  </header>

  <div class="post-content" itemprop="articleBody">
    <p><img src="/assets/static/atomic-scala.jpg" alt="cover" /></p>

<p>Прочитал книжку <a href="http://www.atomicscala.com/">о Скале</a>, заодно немного поковырял язык. Это
первая книжка, прочитанная мной на <a href="/kindle">Киндле</a>.</p>

<p>Понравилась структура. Примерно 30 глав – атомов – по разным
аспектам языка. Автор – плюсовик со стажем, по ходу действия дает
полезные советы, объясняет ООП-паттерны, затрагивает ФП.</p>

<p>Ближе к концу серия глав о монадах. Описаны <code class="highlighter-rouge">Either</code>, <code class="highlighter-rouge">Maybe
(Option)</code>, <code class="highlighter-rouge">Try</code>. Понравилось, что автор ни разу не употребил термин
“монада”. Это камень в огород Хаскела, где монады начинаются с
аппликативных функторов.</p>

<p>К книжке прилагается набор примеров с тестами, доками. Все добротно и
на совесть, <a href="https://github.com/AtomicScala">лежит на Гитхабе</a>. Автор очень ответственно
подошел к делу. По сути, у него не просто книга, а сообщество вокруг
нее. Покупка книги – своего рода членский билет.</p>

<p>Я немного повозился с языком и могу сказать следующее. Прошу прощения
за дилетантский взгляд, все пункты ниже могут оказаться ложью и
провокацией.</p>

<ul>
  <li>
    <p>Сперва язык кажется очень простым, вроде Гоу или Питона, только с
типизацией. Примерно к середине книги понимаешь, что все не так
просто.</p>
  </li>
  <li>
    <p>Некоторые элементы дизайна очень странны. Например, составные
объекты, когда объявлены класс и объект с одинаковыми именами. Я
долго ломал голову, пока наконец понял, что таким образом
формируется метакласс. Можно было сделать удобнее.</p>
  </li>
  <li>
    <p>Избыточные модификаторы вроде <code class="highlighter-rouge">sealed</code>, <code class="highlighter-rouge">implict</code>. Мне кажется, их
впихнули задним числом, получилось не очень. Скала вроде стремится в
минимализму, а получается опять Джава.</p>
  </li>
  <li>
    <p>Самая жесть с параметрическими трейтами. Напоминает Хаскел, но очень
неуклюже. В книге есть пример как построить модель рецепта
мороженного. 100 строк на декларацию трейтов, затем дикий микс из
них. В конце автор пишет, что вот как хорошо получилось. Я бы убился
поддерживать это мороженное.</p>
  </li>
  <li>
    <p>Скала все-таки ООП-язык, хоть и с функциональным уклоном. Насколько
я понял, в экосистеме Скалы не поощрается процедурно-модульное
программирование. Получается <code class="highlighter-rouge">yet another oop language</code>.</p>
  </li>
</ul>

<p><img src="http://41.media.tumblr.com/393d852bf9be9b339e76e4bc393aad34/tumblr_o56sc7ASY31ugyavxo1_1280.jpg" alt="picture" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Hieronymus Bosch “A visual guide to the Scala language” oil on oak
panels, 1490-1510.

The left panel shows the functional features, the main one describes
the type system, and the right the object oriented parts.

</code></pre></div></div>

<p>Все же, интерес к языку у меня возник, и при случае был бы рад принять
участие в проекте на нем.</p>

<p>Выборочные цитаты из книги с моим вольным переводом.</p>

<p>О ручной итерации:</p>

<blockquote>
  <p>Notice that <code class="highlighter-rouge">map</code> and <code class="highlighter-rouge">reduce</code> take care of the iteration code that
you normally write by hand. Although managing the iteration yourself
might not seem like much effort, it’s one more error-prone detail,
one more place to make a mistake (and since they’re so “obvious,”
such mistakes are particularly hard to find).</p>
</blockquote>

<p><em>Обратите внимание, <code class="highlighter-rouge">map</code> и <code class="highlighter-rouge">reduce</code> сами заботятся об итерации. В
императивном подходе итерация ложится на ваши плечи. Это кажется
пустяком, но увеличивает код и вероятность ошибки. Баг в ручной
итерации замечаешь в последнюю очередь.</em></p>

<p>О комментариях:</p>

<blockquote>
  <p>Comments should add new information that isn’t obvious from reading
the code. If the comments just repeat what the code says, it becomes
annoying (and people start ignoring your comments). When the code
changes, programmers often forget to update comments, so it’s a good
practice to use comments judiciously, mainly for highlighting tricky
aspects of your code.</p>
</blockquote>

<p><em>Комментарии должны дополнять код, объяснять неочевидные моменты.
Раздражает, когда комментарий повторяет в точности то, что делает
код. Люди проигнорируют их. Когда код меняется, программист часто
забывает обновить комментарий. Комментируйте вдумчиво, в основном
чтобы объяснить неочевидные приемы в коде.</em></p>

<p>О паттерн-матчинге:</p>

<blockquote>
  <p>Notice that pattern matching can overlap with the functionality of
if statements. Because pattern matching is more flexible and
powerful, we prefer it over if statements when there’s a choice.</p>
</blockquote>

<p><em>Замечу, что паттер-матчинг похож на условное выражение. Первый более
гибок, поэтому будем использовать его вместо условия при удобном
случае.</em></p>

<p>В целом, книжка зачет, не жалею потраченного времени.</p>

  </div>

</article>

<div id="disqus_thread"></div>
<script>
    /**
    * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');

    s.src = '//igrishaev.disqus.com/embed.js';

    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Ivan Grishaev's blog</li>
          <li><a href="mailto:ivan@grishaev.me">ivan@grishaev.me</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/igrishaev"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">igrishaev</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/i_grishaev"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">i_grishaev</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writing on programming, education, books and negotiations.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>

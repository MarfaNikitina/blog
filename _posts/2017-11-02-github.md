---
layout: post
title:  "Как шарить картинки через Гитхаб"
permalink: /github
tags: github images sharing
lang: ru
---

[post]:https://ilyabirman.ru/meanwhile/all/web-image-viewers/
[github]:https://github.com/igrishaev/igrishaev.github.io
[issue1]:https://github.com/igrishaev/igrishaev.github.io/issues/1
[baltimore]:http://grishaev.me/baltimore

Илья [жалуется][post] на облачные хранилища за то, что не показывают нормально
картинки. Нормально значит средствами браузера по прямой ссылке.

Действительно, это проблема. Картинку, расшаренную через какой-нибудь условный
Дропбокс, невозможно открыть без мата. Сначала прогрузится верхняя панель, потом
тулбар, скрипты и виджеты, а в конце, может быть, дойдет до картинки.

Еще хуже обстоят дела с документами. Интерфейс рисует их прямо на странице:
медленно, с тормозами, огромным потреблением памяти. Нет глупее поступка, чем
шарить файлы через облачные сервисы.

Я пишу этот пост чтобы, во-первых объяснить причины такого поведения, а
во-вторых, предложить достойное решение.

Ни один облачный сервис, будь то Дропбокс, Гугл-диск, Яндекс-диск, Мейл-облако,
не даст прямую ссылку на файл. Виноваты в этом не программисты и даже не
менеджеры. Просто сервис с прямыми ссылками становится убыточным и рискует
закрыться.

Если дать пользователям анонимно ссылаться на файл в сети, это мгновенно
превратит сервис в хостинг картинок для форумов и борд. А это противоречит
бизнес-целям сервиса. Ведь он задумывался не как хостинг, а хранилище личных
данных. Возникает разница между целью и результатом.

Может, вы помните, в Дропбоксе была особая папка public, содержимое которой
видно любому анониму. Пользователи шарили из нее картинки для блогов и
соцсетей. Особо одаренные держали там статичные сайты. Какой-нибудь условный
Вася постил с Дропбокса смешную фотку на Пикабу, и сервис раздавал ее сотни
тысяч раз. Теперь представьте, что фотка не одна, а сто, и таких Вась тысячи.

Дропбокс, как известно, хостится на Амазоне и выплачивает огромные деньги за
трафик. При этом им нужно окупить расходы на инфраструктуру, офис и Гвидо Ван
Россума лично. Поэтому минимизация трафика и запрет на прямые ссылки --
неизбежное следствие.

Конечно, открывая картинку в интерфейсе Дропбокса, я всецело на стороне
пользователя. Но другой частью разума понимаю, что шаринг по прямой ссылке
превратит сервис в файло-помойку.

Внезапно, самый удобный способ пошарить картинку сегодня -- это Гитхаб! Для
этого не нужно пихать файл в репозиторий. В Гитхабе, кстати, не дураки сидят:
все статичные медиа-файлы из репозитория они раздают с заголовком
`Content-Disposition: attachment`, что говорит браузеру скачать файл, а не
открыть для просмотра.

Однако, если залить картинку в любой раздел проекта, например, ишью,
пулл-реквест, вики или комментарий, она будет доступна по прямой ссылке без
каких-либо проблем, анонимно и круглосуточно. Достаточно перетянуть файл в
текстовое поле, картинка тут же подгрузится, в тексте появится ее уменьшенная
копия со ссылкой на оригинал.

Я иногда пользуюсь этим способом, если в тексте много фотографий. Блог у
меня [на Гитхабе][github], однако заливать в репозиторий много бинарных файлов
нехорошо. Поэтому я создаю в проекте блога ишью с именем, например "Baltimore
photos", забрасываю туда фотки и копирую ссылки. Посмотреть в действии можно в
моем [рассказе про Балтимор][baltimore]. Обратите внимание на адреса картинок. А
вот [ссылка на тот самый ишью][issue1] с фотками.

Я не скажу точно, какие ограничения накладывает Гитхаб на такой хостинг. Скорее
всего, система учитывает домены и считает трафик, но еще ни разу не сталкивался
с ограничениями. Конечно, этот способ не подойдет для аудитории какого-нибудь
Варламова. Но для блога и небольших сообществ -- вполне.

Наконец, Гитхаб -- отличный способ организовать рабочий процесс. Не кидайтесь
картинками через Телеграм. Заведите проект, в нем тасочку, добавьте метки,
ответственных. Все файлы и комментарии должны оседать в таске, чтобы через год
открыть и все вспомнить.

Предположим, студенты должны прислать работы к конкурсу. Создайте проект в
Гитхабе (приватный, если нужно). Каждый участник открывает таску со своим
именем, подливает файл. Он доступен по прямой ссылке. Все комментируется,
трекается, хранится неограниченно долго, на почту приходят письма.

Мне кажется, проще и удобней сегодня ничего нет.

---
layout: post
title:  "JSON-сериализация в 1С"
date:   "2012-11-09 01:29:32"
permalink: /2012/11/09/1/
tags: JSON 1С Программирование
---

**UPD: [новая версия функции](/2012/11/13/1/).**

Быдлоплатформа 1С не умеет работать с JSON, MD5, SHA, чем огорчает веб-разработчика.
Ничего, научим: http://pastebin.com/4tF96gQH

Пример:

~~~
Запрос = новый Запрос(
	"ВЫБРАТЬ ПЕРВЫЕ 5
	|	Договоры.Код,
	|	Договоры.Ссылка,
	|	Договоры.ДатаЗаключения,
	|	Договоры.Комментарий,
	|	Договоры.Предопределенный
	|ИЗ
	|	Справочник.Договоры КАК Договоры"
);
с = новый Структура("foo, bar, baz, tab", 1, "Привет!", ТекущаяДата(), Запрос.Выполнить().Выгрузить());
Сообщить(json(с));
~~~

Результат:

~~~
{
    "foo": 1,
    "bar": "Привет!",
    "baz": "2012-11-09T10.50.29",
    "tab": [
        {
            "Код": "ВСООЦ0050133",
            "Ссылка": "ВСООЦ0050133",
            "ДатаЗаключения": "2012-09-14T12.00.00",
            "Комментарий": "",
            "Предопределенный": false
        },
        {
        ...
        }
    ]
}
~~~

TODO: добавить некоторые типы данных (выборка из результата запроса,
наборы записей).
